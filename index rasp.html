<!DOCTYPE html>
<html>

<head>

  <title>Realtime communication with WebRTC</title>

  <link rel="stylesheet" href="/css/main.css" />

</head>

<body>

  <h1>Realtime communication with WebRTC</h1>

  <div id="videos">
    <video id="localVideo" autoplay muted playsinline></video>
    <video id="remoteVideo" autoplay playsinline></video>
  </div>

  <!-- This file is automatically added/served when running "node index.js". -->
  <script src="/socket.io/socket.io.js"></script>
  <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
  <!-- <script src="js/main.js"></script> -->
  <script src="js/clientTest.js"></script>


  <select class="deviceList" onchange="handleOnFieldParamChange(this)">
    <option value="Field">Available Device List</option>
  </select>

  <div id="controlPanel">
    <h2 style="background-color:lightgrey; color:white; text-align:center">Control Panel</h2>
    <div id="mainPanel">
        <input type="text" id="input_DeviceID" placeholder="android_test(default)">
        <button onclick="input_DeviceID()">Apply</button><br>
        <div id="field_params">
            <span style="display:inline-block; text-align:center ;width:80px; margin: 5px; background-color:#eaeafa" name='fieldIdx'>Field index</span>
            <span style="display:inline-block; text-align:center ;width:100px; margin: 5px; background-color:#eaeafa" name='fieldName'>Field Name</span>
            <select name="graphIdx" onchange="handleOnFieldParamChange(this)">
              <option value="graph_1">Graph 1</option>
              <option value="graph_2">Graph 2</option>
              <option value="graph_3">Graph 3</option>
            </select>
          </div>
    </div>
  </div>

  <script type="text/javascript">
    function handleOnFieldParamChange(e) {
        // 선택된 데이터 가져오기
        // const value = e.value;
        // var i=1;
        // var field_params=document.getElementById("field_params_"+string(i))          ;
      
        var field_params=e.parentNode.id;
        field_idx=Number(field_params.split("_")[1]);
        console.log("field idx=");
        console.log(field_idx);
        if(e.name=="graphIdx"){
            console.log("graph moved to=");
            console.log(e.value);
        }
        if(e.name=="YaxisIdx"){
            console.log("y axis moved to=");
            console.log(e.value);
        }

        // 데이터 출력
        // document.getElementById('result').innerText= value;
    }
  </script>


</body>

</html>
